!function(){"use strict";var n,t,i=window.pageYOffset,a=window.pageYOffset,e=$(".img-wrapper"),o=$(".img-wrapper img"),s=o.length,r=[],h=$(".chevron-down"),c=2.2,d=1e3,f=$(window).height()/3,m=$(".container"),u=0,p=.8,w=80,l=5,g=8;function v(){r=[],o.each(function(){r.push($(this).parent().offset().top);}),f=$(window).height()/3;}function M(n){if(h.hasClass("animation-started")){var t=(f-n)/f;t=t<0?0:t,h.css("opacity",t);}}function A(){var t;i=window.pageYOffset,t=i-a,n||(u+=t/w,u*=p,Math.abs(u)<.1&&(u=0),u<-l&&(u=-l),u>l&&(u=l),m.css("transform","translateY("+u*g+"px) skewY("+u+"deg)")),i!==a&&(!function(t){if(!n)for(var i=0;i<s;i+=1){var a=e[i].getBoundingClientRect();if(!(a.bottom<0||a.top>window.innerHeight)){var h=o[i],d=r[i],f=t-d+(d-t)/c;h.style.transform="translate3d(0px, "+f+"px, 0px)";}}}(i),M(i),a=i),requestAnimationFrame(A);}$(window).resize(function(){v();}),h.on("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(){$(this).css("animation","initial");}),h.on("animationstart webkitAnimationStart oAnimationStart MSAnimationStart",function(){$(this).addClass("animation-started"),M(i);}),window.addEventListener("mousewheel",function(){},{passive:!0}),$(".button-source").each(function(){var n=$(this),t=[100*Math.random(),100*Math.random(),100*Math.random(),100*Math.random(),100*Math.random(),100*Math.random(),100*Math.random()].map(function(n){return'<div style="width:'+n+'%;"></div>';});t.push(t.slice(0,5).join("")),n.prepend('<div class="source-lines">'+t.join("")+"</div>");}),t=window.magica11y.prefersReducedMotion.default(),n=t===window.magica11y.prefersReducedMotion.motionPreferences.REDUCE,v(),m.height(m.outerHeight()),m.css("overflow-y","hidden"),requestAnimationFrame(A),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(n){var t=location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,""),i=location.hostname===this.hostname;if(t&&i){var a=this.hash,e=$(a);(e=e.length?e:$("[name="+this.hash.slice(1)+"]")).length&&(n.preventDefault(),$("html, body").animate({scrollTop:e.offset().top},d,function(){if(location.hash=a,e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus();}));}});}();
